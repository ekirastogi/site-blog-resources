<!-- For more information, go to http://syntaxhighlighter.relic19.net -->
<head>
<head>
  <link type="text/css" rel="stylesheet" href="SyntaxHighlighterModified.css"></link>
  <link type="text/css" rel="stylesheet" href="main.css"></link>
</head>
<body>
<script type="text/javascript" src="./js/shCoreStaticMaker.js"></script>
<script type="text/javascript" src="./js/shBrushCpp.js"></script>
<script type="text/javascript" src="./js/shBrushCSharp.js"></script>
<script type="text/javascript" src="./js/shBrushCss.js"></script>
<script type="text/javascript" src="./js/shBrushJava.js"></script>
<script type="text/javascript" src="./js/shBrushJScript.js"></script>
<script type="text/javascript" src="./js/shBrushPhp.js"></script>
<script type="text/javascript" src="./js/shBrushPython.js"></script>
<script type="text/javascript" src="./js/shBrushRuby.js"></script>
<script type="text/javascript" src="./js/shBrushSql.js"></script>
<script type="text/javascript" src="./js/shBrushXml.js"></script>
<script type="text/javascript">
	//Required for the clipboard to work on non-IE browsers. MAKE SURE PATH POINTS TO clipboard.swf
	dp.SyntaxHighlighter.ClipboardSwf = './js/clipboard.swf';

	//Highlights the code and write the resulting html out to result textarea.
	function staticallyConvertCode()
	{
		//The classname of the highlighted code element
		highlightedClassName = "dp-highlighter";

		//First we need to extract all option values and correctly construct
		//syntax highlighter's class string, which defines the options.
		classString = "";
		classString += document.sourcecodeform.language.value;

		//Construct the first line option
		firstline = document.sourcecodeform.firstline.value;
		if( isNaN(firstline) )
		{
			alert( "First Line Number must be a number" );
			return;
		}
		classString += ":firstline[" + firstline + "]";

		//Construct the no gutter option
		if( document.sourcecodeform.gutter.value === "false" )
		{
			classString += ":nogutter";
		}

		//Construct the showcontrols option
		if( document.sourcecodeform.showcontrols.value === "false" )
		{
			classString += ":nocontrols";
		}

		//Construct the nocollapse option
		if( document.sourcecodeform.nocollapse.value === "false" )
		{
			classString += ":collapse";
			//This is how syntax highlighter marks things as collapsed
			highlightedClassName = "dp-highlighter collapsed";
		}

		//Construct the hidecolumns option
		if( document.sourcecodeform.hidecolumns.value === "false" )
		{
			classString += ":showcolumns";
		}

		//Set up for blogger mode if neccessary
		if( document.sourcecodeform.blogger.value === "false" )
		{
			dp.SyntaxHighlighter.BloggerMode(false);
		} else {
			dp.SyntaxHighlighter.BloggerMode(true);
		}

		//Secondly, we need to extract the source code to be converted convert and convert it.

		//Extract the source code to be converted.
		//Escape the ampersand character and less-than character so that they will display correctly in
		//the textarea.  If the less-than character is not escaped, then the textarea might be prematurely
		//closed.  If the ampersand character is not escaped, then '&lt;' in the source code will be replaced
		//by the less-than character when displayed via the view plain command.
		var originalCode = document.sourcecodeform.sourcecode.value.replace(/&/g,'&amp;').replace(/</g,'&lt;');

		//Reset the current pre code area
		document.getElementById('codearea').innerHTML = "<pre name=\"code\" class=\""+classString+"\"></pre>";

		//Set the code div with the converted original code.  This is what the syntax highlighter will highlight.
		document.getElementsByName('code')[0].innerHTML = originalCode;

		//Highlight the code in the <pre> code div.
		dp.SyntaxHighlighter.HighlightAll('code');

		//Thirdly, we need to inject the header to the highlighted code if neccessary.
		header = document.sourcecodeform.header.value;
		if( header !== "" )
		{
			el = getCodeElement('\\btools\\b');
			el.innerHTML = "<div class=\"header\">"+header+"</div>" + el.innerHTML;
		}

		//Fourthly, we need to inject the original source code so the menu items will work on a different page.

		//Get the resulting highlighted code element
		highlightedElement = getCodeElement('\\bdp-highlighter\\b');

		//Add a hidden textarea containing the original source code to the
		//prettied code so that the menu buttons will work later.
		highlightedElement.innerHTML += "<textarea style='display:none;' class='originalCode'>"+originalCode+"</textarea>";

		//Finally, we need to extract the highlighted code html source and write it to the results box
		document.getElementById('result').value = "<div class=\""+highlightedClassName+"\">" + highlightedElement.innerHTML + "</div>";
	}

	//Gets a subelement of the codearea node whose classname matched the test parameter
	function getCodeElement(test)
	{
		node = document.getElementById('codearea');
		var a = [];
		var re = new RegExp(test);
		var els = node.getElementsByTagName("*");
		for(var i=0,j=els.length; i<j; i++)
			if(re.test(els[i].className))
				return els[i];
	}
</script>

<div id="main">
	<div id="inputform">
		<form name="sourcecodeform">
			<table class="optionTable" cellpadding="0" cellspacing="0">
				<tr>
					<td width=120>Show Gutter:</td>
					<td><select name="gutter" class="booleanField"><option>true</option><option>false</option></select></td>
					<td width=120>Show Controls:</td>
					<td><select name="showcontrols" class="booleanField"><option>true</option><option>false</option></select></td>
					<td width=120>Show Expanded:</td>
					<td><select name="nocollapse" class="booleanField"><option>true</option><option>false</option></select></td>
				</tr>
				<tr height=3><td></td><td></td><td></td><td></td><td></td><td></td></tr>
				<tr>
					<td width=120>Hide Columns:</td>
					<td><select name="hidecolumns" class="booleanField"><option>true</option><option>false</option></select></td>
					<td width=120>Blogger Mode:</td>
					<td><select name="blogger" class="booleanField"><option>true</option><option>false</option></select></td>
					<td>&nbsp;</td>
					<td>&nbsp;</td>
				</tr>
			</table>
			<table class="optionTable" cellpadding="0" cellspacing="0">
				<tr>
					<td>
						Source Code Language: <select name="language">
							<option>c++</option>
							<option>c#</option>
							<option>css</option>
							<option>java</option>
							<option>javascript</option>
							<option>php</option>
							<option>python</option>
							<option>ruby</option>
							<option>sql</option>
							<option>xml</option>
						</select>
					</td>
					<td align="right">
						Start Line Numbering At: <input type="text" name="firstline" size="10" value="1">
					</td>
				</tr>
			</table>
			Header (Leave Blank for none): <input type="text" name="header" class="headerField" value="">
			<br>Source Code:
			<br><textarea name="sourcecode" class="textbox"></textarea>
			<div style="text-align:center"><A href="javascript: staticallyConvertCode();">Convert Code</A></div>
		</form>
	</div>

	<div id="outputform">
		Resulting Html Code:
		<br><textarea  class="textbox" id="result"></textarea>
	</div>

	<div id="preview">
		<br>Preview:
		<div id="codearea">
			<pre name="code" class="javascript"></pre>
		</div>
	</div>
	<br>
</div>
</body>
</html>